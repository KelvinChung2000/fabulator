# FABulator VS Code Extension

A VS Code extension for visualizing and exploring FPGA fabrics generated by the FABulous framework.

## Features

- Interactive fabric visualization using Pixi.js
- Load and explore geometry CSV files
- Load and visualize FASM bitstream configurations
- Integrated with VS Code's file explorer and command palette

## Development

### Prerequisites

- Node.js 18+ 
- VS Code

### Setup

1. Install extension dependencies:
   ```bash
   npm install
   ```

2. Install webview UI dependencies:
   ```bash
   cd webview-ui
   npm install
   ```

### Development Workflow

1. **Development Mode**: 
   - Start the webview UI development server: `cd webview-ui && npm run dev`
   - Set `NODE_ENV=development` in launch configuration
   - Press F5 to start debugging

2. **Production Mode**:
   - Build webview UI: `cd webview-ui && npm run build`
   - Compile extension: `npm run compile`
   - Press F5 to test

### Architecture

- **Extension Host** (`src/`): TypeScript code running in Node.js
- **Webview UI** (`webview-ui/`): React + Pixi.js application built with Vite
- **Communication**: Message passing between extension and webview

### Building

```bash
# Build webview UI
cd webview-ui && npm run build

# Compile extension
npm run compile
```

## Usage

1. Open the Command Palette (`Cmd/Ctrl + Shift + P`)
2. Run "FABulator: Open Fabric" to load a geometry CSV file
3. Run "FABulator: Open Design" to load a FASM file
4. View the fabric in the Fabric Viewer panel in the Explorer sidebar

## Architecture Overview

This extension converts the original JavaFX-based FABulator application to a VS Code extension using modern web technologies:

- **JavaFX Groups** → **Pixi.js Containers**
- **JavaFX Shapes** → **Pixi.js Graphics API**
- **JavaFX Event Handling** → **React + Pixi.js Interaction**

## Current Status

- ✅ Complete extension structure with webview
- ✅ Vite-based build system for fast development  
- ✅ Pixi.js v8 integration with WebGL rendering
- ✅ VS Code command integration and file dialogs
- ✅ Complete TypeScript geometry parser
- ✅ Full fabric visualization with real eFPGA support
- ✅ Interactive tile exploration and color coding
- ✅ Tested with production 16×10 eFPGA fabric (470KB file)

## Testing

The extension has been **fully tested** with a real eFPGA geometry file:
- **Fabric Size**: 16×10 tiles (3018×4770 pixels)
- **Tile Types**: 14 different types (LUT4AB, DSP, RAM_IO, etc.)
- **Performance**: Smooth parsing and rendering of complex fabrics

See [TESTING.md](TESTING.md) for detailed testing instructions.
